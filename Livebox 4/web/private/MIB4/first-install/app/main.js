define(["utils/console","utils/basics","lib/stateManager","app/controllers/step1Ctrl","app/views/step1View","app/controllers/step2Ctrl","app/views/step2View","app/controllers/step3Ctrl","app/views/step3View","app/controllers/step3DefaultCtrl","app/views/step3DefaultView","app/controllers/step3CloudCtrl","app/views/step3CloudView","app/controllers/step3LocalCtrl","app/views/step3LocalView","app/controllers/step3SuccessCtrl","app/views/step3SuccessView","app/controllers/step3FailCtrl","app/views/step3FailView"],function(console,basicUtilities,StateManagerClass,Step1CtrlClass,Step1ViewClass,Step2CtrlClass,Step2ViewClass,Step3CtrlClass,Step3ViewClass,Step3DefaultCtrlClass,Step3DefaultViewClass,Step3CloudCtrlClass,Step3CloudViewClass,Step3LocalCtrlClass,Step3LocalViewClass,Step3SuccessCtrlClass,Step3SuccessViewClass,Step3FailCtrlClass,Step3FailViewClass){"use strict";function MainClass(aSahObj,aConfigObj,aTranslateObj){var fields;fields={sahObj:aSahObj,stateManagerObj:null};fields.stateManagerObj=new StateManagerClass("step3",aSahObj,aTranslateObj);this.run=function(){basicUtilities.queue([function(aNext){fields.stateManagerObj.registerState(aNext,"step1",Step1CtrlClass,Step1ViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step2",Step2CtrlClass,Step2ViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3",Step3CtrlClass,Step3ViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3Default",Step3DefaultCtrlClass,Step3DefaultViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3Cloud",Step3CloudCtrlClass,Step3CloudViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3Local",Step3LocalCtrlClass,Step3LocalViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3Success",Step3SuccessCtrlClass,Step3SuccessViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"step3Fail",Step3FailCtrlClass,Step3FailViewClass,false)},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.switchState(null,"step1",null)}else{console.error("MainClass: Internal error. Aborting...")}}],this)}}return MainClass});