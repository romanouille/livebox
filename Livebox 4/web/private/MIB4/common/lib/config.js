define(["utils/console","utils/basics"],function(console,basicUtilities){"use strict";function ConfigClass(aAppConfig){var fields,processUrlParameters=function(){var urlConfig,param,configType,configPart;urlConfig=basicUtilities.getUrlParameters(window.location.href);for(param in urlConfig){if(urlConfig.hasOwnProperty(param)){for(configType in fields){if(fields.hasOwnProperty(configType)){if(typeof fields[configType][param]!=="undefined"){fields[configType][param]=urlConfig[param]}else{for(configPart in fields[configType]){if(fields[configType].hasOwnProperty(configPart)){if(fields[configType][configPart]&&typeof fields[configType][configPart]==="object"){if(typeof fields[configType][configPart][param]!=="undefined"){fields[configType][configPart][param]=urlConfig[param]}}else{break}}}}}}}}};fields=aAppConfig;processUrlParameters.call(this);console.setLogLevel(fields.environment[fields.common.environment].logLevel||0);console.setTimedLogUsage(fields.environment[fields.common.environment].useTimedLog||false);console.debug("ConfigClass: Using configuration "+JSON.stringify(fields));this.getCommonConfig=function(aParameter){return aParameter?fields.common[aParameter]:fields.common};this.setCommonConfig=function(aParameter,aValue){fields.common[aParameter]=aValue};this.getEnvironmentIdList=function(){var environmentId,environmentIdList;environmentIdList=[];for(environmentId in fields.environment){if(fields.environment.hasOwnProperty(environmentId)){environmentIdList.push(environmentId)}}return environmentIdList};this.getEnvironmentConfig=function(aEnvironmentId,aParameter){return aParameter?fields.environment[aEnvironmentId][aParameter]:fields[aEnvironmentId]};this.setEnvironmentConfig=function(aEnvironmentId,aParameter,aValue){fields.environment[aEnvironmentId][aParameter]=aValue};this.getCustomerIdList=function(){var customerId,customerIdList;customerIdList=[];for(customerId in fields.operator){if(fields.operator.hasOwnProperty(customerId)){customerIdList.push(customerId)}}return customerIdList};this.getCustomerConfig=function(aCustomerId,aParameter){return aParameter?fields.operator[aCustomerId][aParameter]:fields[aCustomerId]};this.setCustomerConfig=function(aCustomerId,aParameter,aValue){fields.operator[aCustomerId][aParameter]=aValue}}return ConfigClass});