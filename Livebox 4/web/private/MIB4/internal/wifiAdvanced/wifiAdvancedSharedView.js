define(["utils/console","utils/basics","lib/eventHandler","lib/stateViewInterface","jquery","text","templates_app/template","text!bootstrap/bootstrap.css"],function(console,basicUtilities,EventHandlerClass,StateViewClass,$,Text,TemplateClass,Bootstrap){"use strict";function stripLines(aCallback,aString){basicUtilities.callback(aCallback,false,0,aString.replace(/(\r\n|\n|\r|\t)/gm,""))}function fillTemplate(aCallback,template,context){basicUtilities.callback(aCallback,false,0,template(context))}function setStyle(aCallback){basicUtilities.queue([function(aNext){stripLines(aNext,Bootstrap)},function(aNext,aResult){if(!aResult||aResult.status===0){if(!$("#bootstrap_style_sheet").length){$("head").append('<style id="bootstrap_style_sheet">'+aResult.data+"</style>")}if(!$("#app_conf_style_sheet").length){$("head").append('<style id="app_conf_style_sheet">'+TemplateClass.style+"</style>")}basicUtilities.callback(aCallback,false,0,null)}else{basicUtilities.callback(aCallback,false,-1,null)}}],this)}function unsetStyle(aCallback){if($("#app_conf_style_sheet").length){$("head").children("#app_conf_style_sheet").remove()}if($("#bootstrap_style_sheet").length){$("head").children("#bootstrap_style_sheet").remove()}basicUtilities.callback(aCallback,false,0,null)}function viewEmptyPage(aCallback){$(window.document.body).html();basicUtilities.callback(aCallback,false,0,null)}function setDisabledInput(aCallback,aId,aDisabled){if(aDisabled){$("#"+aId).prop("disabled",true)}else{$("#"+aId).prop("disabled",false)}basicUtilities.callback(aCallback,false,0,null)}function setToggleOnOff(aCallback,aId,aValue){if(aValue){$("#"+aId).attr("aria-pressed","true");$("#"+aId).find("span").attr("data-translation","common.on")}else{$("#"+aId).attr("aria-pressed","false");$("#"+aId).find("span").attr("data-translation","common.off")}basicUtilities.callback(aCallback,false,0,null)}function setCheckedInput(aCallback,aId,aChecked){if(aChecked){$("#"+aId).prop("checked",true)}else{$("#"+aId).prop("checked",false)}basicUtilities.callback(aCallback,false,0,null)}function deleteTableRow(aCallback,aId,aRowNumber){$("#"+aId).children("tbody").children("tr")[aRowNumber].remove();basicUtilities.callback(aCallback,false,0,null)}function addTableRow(aCallback,aId,aHtmlCode,aBefore){if(aBefore){$("#"+aId).prepend(aHtmlCode)}else{$("#"+aId).append(aHtmlCode)}this.translate("#"+aId);basicUtilities.callback(aCallback,false,0,null)}function fillOptions(aCallback,aId,aOptions){var index,buffer="";$("#"+aId).html("");for(index=0;index<aOptions.length;index=index+1){if(aOptions[index].translation){buffer+='<option value="'+aOptions[index].value+'" class="Translation" data-translation="'+aOptions[index].translation+'"></option>'}else{buffer+='<option value="'+aOptions[index].value+'">'+aOptions[index].inner+"</option>"}}$("#"+aId).html(buffer);this.translate("#"+aId);basicUtilities.callback(aCallback,false,0,null)}function setOptionByValue(aCallback,aId,aValue){$("#"+aId).children("option").each(function(){if($(this).attr("value")===aValue){$(this).prop("selected",true)}else{$(this).prop("selected",false)}});basicUtilities.callback(aCallback,false,0,null)}function setValue(aCallback,aId,aValue){$("#"+aId).val(aValue);basicUtilities.callback(aCallback,false,0,null)}function isValidSSID(ssid){var SSIDRegExp=/^[\x20-\x7E]{1,32}$/;return SSIDRegExp.test(ssid)&&ssid.trim()===ssid}function isValidWPAKey(WPAKey){var subset=[/[0-9]/,/[a-z]/,/[A-Z]/,/[\,\?\;\.\:\!\*\/\@\+\-\_\=\~\‘\«\»\&\$\€\¨\^\(\)\{\}\[\]\°\#\§\£\%]/],sumcheck=0,index;for(index=0;index<subset.length;index=index+1){if(subset[index].test(WPAKey)){sumcheck=sumcheck+1}}return sumcheck>1&&WPAKey.length>7&&WPAKey.length<64}return{"import":function(aCallback,aTargetClass){aTargetClass.isValidSSID=isValidSSID;aTargetClass.isValidWPAKey=isValidWPAKey;aTargetClass.stripLines=stripLines;aTargetClass.fillTemplate=fillTemplate;aTargetClass.setStyle=setStyle;aTargetClass.unsetStyle=unsetStyle;aTargetClass.viewEmptyPage=viewEmptyPage;aTargetClass.setDisabledInput=setDisabledInput;aTargetClass.setToggleOnOff=setToggleOnOff;aTargetClass.setCheckedInput=setCheckedInput;aTargetClass.deleteTableRow=deleteTableRow;aTargetClass.addTableRow=addTableRow;aTargetClass.fillOptions=fillOptions;aTargetClass.setOptionByValue=setOptionByValue;aTargetClass.setValue=setValue;basicUtilities.callback(aCallback,false,0,null)}}});