define(["utils/console","utils/basics","lib/stateManager","app/fakeFirstCtrl","app/fakeFirstView","app/fakeSecondCtrl","app/fakeSecondView"],function(console,basicUtilities,StateManagerClass,FakeFirstCtrlClass,FakeFirstViewClass,FakeSecondCtrlClass,FakeSecondViewClass){"use strict";function MainClass(aSahObj,aConfigObj,aTranslateObj){var fields;fields={sahObj:aSahObj,stateManagerObj:null};fields.stateManagerObj=new StateManagerClass("FakeApp",aSahObj,aTranslateObj);this.run=function(){basicUtilities.queue([function(aNext){fields.stateManagerObj.registerState(aNext,"First",FakeFirstCtrlClass,FakeFirstViewClass,false)},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"Second",FakeSecondCtrlClass,FakeSecondViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.switchState(null,"First",null)}else{console.error("MainClass: Internal error. Aborting...")}}],this)}}return MainClass});