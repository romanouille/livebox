define(["utils/console","utils/basics","lib/stateManager","app/networkAdvancedDHCPCtrl","app/networkAdvancedDHCPView","app/networkAdvancedNATPATCtrl","app/networkAdvancedNATPATView","app/networkAdvancedDNSCtrl","app/networkAdvancedDNSView","app/networkAdvancedUPnPCtrl","app/networkAdvancedUPnPView","app/networkAdvancedDynDNSCtrl","app/networkAdvancedDynDNSView","app/networkAdvancedDMZCtrl","app/networkAdvancedDMZView","app/networkAdvancedNTPCtrl","app/networkAdvancedNTPView","jquery"],function(console,basicUtilities,StateManagerClass,NetworkAdvancedDHCPCtrlClass,NetworkAdvancedDHCPViewClass,NetworkAdvancedNATPATCtrlClass,NetworkAdvancedNATPATViewClass,NetworkAdvancedDNSCtrlClass,NetworkAdvancedDNSViewClass,NetworkAdvancedUPnPCtrlClass,NetworkAdvancedUPnPViewClass,NetworkAdvancedDynDNSCtrlClass,NetworkAdvancedDynDNSViewClass,NetworkAdvancedDMZCtrlClass,NetworkAdvancedDMZViewClass,NetworkAdvancedNTPCtrlClass,NetworkAdvancedNTPViewClass,$){"use strict";function MainClass(aSahObj,aConfigObj,aTranslateObj){var fields;fields={sahObj:aSahObj,stateManagerObj:null};fields.stateManagerObj=new StateManagerClass("NetworkAdvanced",aSahObj,aTranslateObj);this.stripLines=function(aCallback,aString){basicUtilities.callback(aCallback,false,0,aString.replace(/(\r\n|\n|\r|\t)/gm,""))};this.run=function(){basicUtilities.queue([function(aNext){fields.stateManagerObj.registerState(aNext,"DHCP",NetworkAdvancedDHCPCtrlClass,NetworkAdvancedDHCPViewClass,false)},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"NATPAT",NetworkAdvancedNATPATCtrlClass,NetworkAdvancedNATPATViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"DNS",NetworkAdvancedDNSCtrlClass,NetworkAdvancedDNSViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"UPnP",NetworkAdvancedUPnPCtrlClass,NetworkAdvancedUPnPViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"DynDNS",NetworkAdvancedDynDNSCtrlClass,NetworkAdvancedDynDNSViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"DMZ",NetworkAdvancedDMZCtrlClass,NetworkAdvancedDMZViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){fields.stateManagerObj.registerState(aNext,"NTP",NetworkAdvancedNTPCtrlClass,NetworkAdvancedNTPViewClass,false)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){$(window).on("hashchange",{},function(){switch(window.location.hash.substr(1)){case"DHCP":fields.stateManagerObj.switchState(null,"DHCP",null);break;case"NATPAT":fields.stateManagerObj.switchState(null,"NATPAT",null);break;case"DNS":fields.stateManagerObj.switchState(null,"DNS",null);break;case"UPnP":fields.stateManagerObj.switchState(null,"UPnP",null);break;case"DynDNS":fields.stateManagerObj.switchState(null,"DynDNS",null);break;case"DMZ":fields.stateManagerObj.switchState(null,"DMZ",null);break;case"NTP":fields.stateManagerObj.switchState(null,"NTP",null);break;default:console.error('MainClass: Unknown State "'+window.location.hash.substr(1)+'". Redirecting to Summary');fields.stateManagerObj.requestAppClose(null);break}});basicUtilities.callback(aNext,false,0,null)}else{console.error("MainClass: Internal error. Aborting...")}},function(aNext,aResult){if(!aResult||aResult.status===0){window.location.hash="#DHCP";basicUtilities.callback(aNext,false,0,null)}else{basicUtilities.callback(aNext,false,-1,null)}}],this)}}return MainClass});