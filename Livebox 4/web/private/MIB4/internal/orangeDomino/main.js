define(["utils/console","utils/basics","templates_app/template","text!bootstrap/bootstrap.css","jquery"],function(console,basicUtilities,TemplateClass,Bootstrap,$){"use strict";function MainClass(aSahObj){var fields;fields={sahObj:aSahObj};this.stripLines=function(aCallback,aString){basicUtilities.callback(aCallback,false,0,aString.replace(/(\r\n|\n|\r|\t)/gm,""))};this.setStyle=function(aCallback){basicUtilities.queue([function(aNext){this.stripLines(aNext,Bootstrap)},function(aNext,aResult){if(!aResult||aResult.status===0){if(!$("#app_conf_style_sheet").length){$("head").append('<style id="app_conf_style_sheet">'+aResult.data+"</style>")}if(!$("#bootstrap_style_sheet").length){$("head").append('<style id="bootstrap_style_sheet">'+TemplateClass.style+"</style>")}$("#temp1").show();$("#temp2").show();if(typeof window.parent.SAH!=="undefined"){$(document).on("click","#app_close",function(){$("#app_close").off("click");this.closeApp(this._launchedAppManifest)}.bind(window.parent.SAH.WM))}basicUtilities.callback(aCallback,false,0,null)}else{basicUtilities.callback(aCallback,false,-1,null)}}],this)};this.run=function(){this.setStyle(null)}}return MainClass});