require(["utils/console","utils/compatibility","utils/basics","semantic/sah/sah","lib/config","json!common/appConfig.json","lib/translate","app/main"],function(console,compatibility,basicUtilities,SahClass,ConfigClass,aAppConfig,aTranslateObj,MainClass){"use strict";var sahObj,configObj,mainObj,isLogInRequired;configObj=new ConfigClass(aAppConfig);basicUtilities.queue([function(aNext){var hgwUrl;if(window.parent.SAH){sahObj=window.parent.SAH.SDKut;aNext()}else{console.error("Loader: Direct access to the application");isLogInRequired=true;sahObj=new SahClass(configObj.getCommonConfig("applicationName"),configObj.getCommonConfig("project"));hgwUrl=configObj.getCommonConfig("hgwUrl");sahObj.setEnvironment({useApiSimulationMode:false,useSemanticSimulationMode:configObj.getCommonConfig("isEmulated"),useValidationMode:configObj.getCommonConfig("useValidation"),useRemoteControlMode:configObj.getCommonConfig("useRemoteControl"),useApplicationMode:true,reporterUrl:configObj.getCommonConfig("reporterUrl"),ajaxCrosserUrl:hgwUrl?configObj.getCommonConfig("ajaxCrosserUrl"):""});sahObj.setDeviceTarget({deviceType:"hgw",host:hgwUrl||window.location.hostname,port:window.location.port||0,protocol:window.location.protocol||null},aNext)}},function(aNext){var language;if(isLogInRequired&&!sahObj.isLoggedIn()){console.error("Loader: Performing automatic login with admin/admin");sahObj.logIn("admin","admin")}language=basicUtilities.getParentCookie("UILang")||"en";aTranslateObj.loadTranslation(aNext,language)},function(){mainObj=new MainClass(sahObj,configObj,aTranslateObj);mainObj.run()}]);return});