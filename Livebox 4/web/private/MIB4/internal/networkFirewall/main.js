define(["utils/console","utils/basics","lib/stateManager","app/networkFirewallCtrl","app/networkFirewallView","app/networkFirewallIPv4Ctrl","app/networkFirewallIPv4View","app/networkFirewallIPv6Ctrl","app/networkFirewallIPv6View","jquery"],function(console,basicUtilities,StateManagerClass,NetworkFirewallCtrlClass,NetworkFirewallViewClass,NetworkFirewallIPv4CtrlClass,NetworkFirewallIPv4ViewClass,NetworkFirewallIPv6CtrlClass,NetworkFirewallIPv6ViewClass,$){"use strict";function MainClass(aSahObj,aConfigObj,aTranslateObj){var fields;fields={sahObj:aSahObj,stateManagerObj:null};fields.stateManagerObj=new StateManagerClass("NetworkFirewallApp",aSahObj,aTranslateObj);this.run=function(){basicUtilities.queue([function(aNext){fields.stateManagerObj.registerState(aNext,"NetworkFirewall",NetworkFirewallCtrlClass,NetworkFirewallViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"NetworkFirewallIPv4",NetworkFirewallIPv4CtrlClass,NetworkFirewallIPv4ViewClass,false)},function(aNext){fields.stateManagerObj.registerState(aNext,"NetworkFirewallIPv6",NetworkFirewallIPv6CtrlClass,NetworkFirewallIPv6ViewClass,false)},function(aNext,aResult){if(!aResult||aResult.status===0){$(window).on("hashchange",{},function(){if(window.location.hash.substr(1)==="NetworkFirewall"){fields.stateManagerObj.switchState(null,"NetworkFirewall",null)}else if(window.location.hash.substr(1)==="NetworkFirewallIPv4"){fields.stateManagerObj.switchState(null,"NetworkFirewallIPv4",null)}else if(window.location.hash.substr(1)==="NetworkFirewallIPv6"){fields.stateManagerObj.switchState(null,"NetworkFirewallIPv6",null)}else{fields.stateManagerObj.requestAppClose(null)}});basicUtilities.callback(aNext,false,0,null)}},function(aNext,aResult){if(!aResult||aResult.status===0){window.location.hash="#NetworkFirewall";basicUtilities.callback(aNext,false,0,null)}else{console.error("MainClass: Internal error. Aborting...");basicUtilities.callback(aNext,false,-1,null)}}],this)}}return MainClass});