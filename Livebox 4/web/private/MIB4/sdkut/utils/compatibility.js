define([],function(){"use strict";if(!window.document.getElementsByClassName){window.document.getElementsByClassName=function(aClassName){var regTest,elementTab,result,indElem;regTest=new RegExp("(^|\\s)"+aClassName+"(\\s|$)");elementTab=window.document.getElementsByTagName("*");result=[];for(indElem=0;indElem<elementTab.length;indElem+=1){if(regTest.test(elementTab[indElem].className)){result.push(elementTab[indElem])}}return result}}if(!Object.keys){Object.keys=function(aObj){var array,prop;array=[];for(prop in aObj){if(aObj.hasOwnProperty(prop)){array.push(aObj)}}return array}}if(!Object.extend){Object.extend=function(aObj,aExtender){var key;for(key in aExtender){if(aExtender.hasOwnProperty(key)){aObj[key]=aExtender[key]}}return aObj}}if(!Object.deepExtend){Object.deepExtend=function(aObj,aExtender){var property;for(property in aExtender){if(aExtender.hasOwnProperty(property)){if(aExtender[property]&&aExtender[property].constructor&&aExtender[property].constructor===Object){aObj[property]=aObj[property]||{};Object.deepExtend(aObj[property],aExtender[property])}else{aObj[property]=aExtender[property]}}}return aObj}}if(!Object.walk){Object.walk=function(aObj,aPath,aUseCreate){var result,pathTab,indPath;result=aObj;if(aPath){pathTab=aPath.split(".");for(indPath=0;indPath<pathTab.length;indPath+=1){if(typeof result!=="object"||!result){result=null;break}else if(!result[pathTab[indPath]]){if(aUseCreate){result[pathTab[indPath]]={}}else{result=null;break}}result=result[pathTab[indPath]]}}return result}}if(!Object.typeOf){Object.typeOf=function(aObj){if(typeof aObj==="undefined"){return"null"}if(typeof aObj==="object"){if(Object.prototype.toString.call(aObj)==="[object Array]"){return"array"}if(!aObj){return"null"}return"object"}return typeof aObj}}if(!Object.compare){Object.doCompare=function(aObj1,aObj2,aFormatOnly){var type,key,indItem,error;type=Object.typeOf(aObj1);if(type!==Object.typeOf(aObj2)){return" type difference"}if(type==="object"){for(key in aObj1){if(aObj1.hasOwnProperty(key)){error=Object.doCompare(aObj1[key],aObj2[key]);if(error){if(error[0]===" "){return key+":"+error}if(error[0]==="["){return key+error}return key+"."+error}}}}else if(!aFormatOnly&&type==="array"){if(aObj1.length!==aObj2.length){return" array length"}for(indItem=0;indItem<aObj1.length;indItem+=1){error=Object.doCompare(aObj1[indItem],aObj2[indItem]);if(error){if(error[0]===" "){return"["+indItem+"]:"+error}return"["+indItem+"]."+error}}}else if(!aFormatOnly&&(type==="string"||type==="number"||type==="boolean")){if(aObj1!==aObj2){return" value difference ("+aObj1+","+aObj2+")"}}return""};Object.compare=function(aObj1,aObj2,aFormatOnly){return Object.doCompare(aObj1,aObj2,aFormatOnly)?false:true}}Object.truncate=function(aObj,aLevel,aCyclicTab){var newObj,param,indParam,cyclicTab;if(aLevel<0){return"..."}cyclicTab=aCyclicTab||[];if(Object.typeOf(aObj)==="object"){newObj={};for(param in aObj){if(aObj.hasOwnProperty(param)){if(cyclicTab.indexOf(param)<0){if(Object.typeOf(aObj[param])==="object"){cyclicTab.push(param)}newObj[param]=Object.truncate(aObj[param],aLevel-1,cyclicTab)}else{newObj[param]="---"}}}return newObj}if(Object.typeOf(aObj)==="array"){newObj=[];for(indParam=0;indParam<aObj.length;indParam+=1){newObj[indParam]=Object.truncate(aObj[indParam],aLevel-1,cyclicTab)}return newObj}return aObj};if(!Function.bind){Function.prototype.bind=function(aThisArg){var self,argumentTab;self=this;argumentTab=Array.prototype.slice.call(arguments,1);return function(){return self.apply(aThisArg,argumentTab.concat(Array.prototype.slice.call(arguments,0)))}}}if(!Array.intersect){Array.prototype.intersect=function(aArray){var result,indArray1,indArray2,type;result=[];for(indArray1=0;indArray1<this.length;indArray1+=1){for(indArray2=0;indArray2<aArray.length;indArray2+=1){type=Object.typeOf(this[indArray1]);if(type===Object.typeOf(aArray[indArray2])){if(type==="string"||type==="number"||type==="boolean"){if(this[indArray1]===aArray[indArray2]){result.push(this[indArray1]);break}}}}}return result}}if(!Array.remove){Array.prototype.remove=function(aFrom,aTo){var rest;this.slice((aTo||aFrom)+1||this.length);this.length=aFrom<0?this.length+aFrom:aFrom;return this.push.apply(this,rest)}}if(!Array.indexOf){Array.prototype.indexOf=function(aElt,aFrom){var len,from,indArray;len=this.length;from=Number(aFrom)||0;from=from<0?Math.ceil(from):Math.floor(from);if(from<0){from+=len}for(indArray=from;indArray<len;indArray+=1){if(this[indArray]===aElt){return indArray}}return-1}}return null});