{
	"root" : {
		"query" : "SELECT COUNT(?d) AS directory 2 AS audio COUNT(?v) AS video_all 2 AS image\nWHERE {\n\t{\n\t\t?d a sah:DeviceAlias;\n\t\t\ttracker:available true ;\n\t\t\tsah:owner <urn:contact:%username%> ;\n\t\t\tsah:device ?dev .\n\t\t?dev tracker:available true .\n\t} UNION {\n\t\t?v a nfo:Video, nfo:Audio, nfo:DataContainer ;\n\t\t\ttracker:available true ;\n\t\t\tsah:owner ?owner ;\n\t\t\tnie:dataSource ?device ;\n\t\t\tnie:hasPart ?res .\n\t\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\t\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\t\tsah:device ?device ;\n\t\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t\t}\n\t\t) .\n\t} .\n}",
	},
	"directory" : {
		"query" : "SELECT ?uid COALESCE(nie:title(?uid), nie:url(?mp), 'My Gateway') AS name\nWHERE {\n\t?alias a sah:DeviceAlias ;\n\t\ttracker:available true ;\n\t\tsah:owner <urn:contact:%username%> ;\n\t\tsah:device ?uid .\n\t?uid tracker:available true .\n\tOPTIONAL {\n\t\t?uid tracker:mountPoint ?mp .\n\t} .\n}",
		"value" : "SELECT ?uid nie:url(?res) AS url COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name COALESCE(nie:mimeType(?uid), nie:mimeType(?res)) AS mime\nWHERE {\n\t{\n\t\t?uid a nfo:Folder, nfo:FileDataObject, nfo:DataContainer ;\n\t\t\ttracker:available true ;\n\t\t\tnie:dataSource ?device ;\n\t\t\tnfo:belongsToContainer <%value%> ;\n\t\t\tsah:owner ?owner .\n\t} UNION {\n\t\t?uid a nfo:FileDataObject, nfo:DataContainer ;\n\t\t\ttracker:available true ;\n\t\t\tnie:dataSource ?device ;\n\t\t\tnfo:belongsToContainer <%value%> ;\n\t\t\tsah:owner ?owner ;\n\t\t\tnie:hasPart ?res .\n\t\tFILTER ( NOT EXISTS { ?uid a nfo:Folder } ) .\n\t\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\t} .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) .\n}",
	},
	"audio" : {
		"query" : "SELECT 4 AS audio_music COUNT(?uid) AS audio_other\nWHERE {\n\t?uid a nfo:Audio ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( NOT EXISTS { ?uid a nmm:MusicPiece } && NOT EXISTS { ?uid a nfo:Video } ) .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
		"other" : {
			"query" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?uid) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nfo:Audio ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( NOT EXISTS { ?uid a nmm:MusicPiece } && NOT EXISTS { ?uid a nfo:Video } ) .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
		},
		"music" : {
			"query" : "SELECT COUNT(?uid) AS audio_music_all COUNT(DISTINCT nfo:genre(?uid)) AS audio_music_genre COUNT(DISTINCT nmm:performer(?uid)) AS audio_music_artist COUNT(DISTINCT nmm:musicAlbum(?uid)) AS audio_music_album\nWHERE {\n\t?uid a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			"all" : {
				"query" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
			"genre" : {
				"query" : "SELECT ?uid ?uid AS name COUNT(?m) AS total\nWHERE {\n\t?m a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnfo:genre ?uid ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}\nGROUP BY ?uid",
				"value" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnfo:genre '%value%' ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
			"artist" : {
				"query" : "SELECT ?uid nmm:artistName(?uid) AS name COUNT(?m) AS total\nWHERE {\n\t?m a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnmm:performer ?uid ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}\nGROUP BY ?uid",
				"value" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnmm:performer <%value%> ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
			"album" : {
				"query" : "SELECT ?uid COALESCE(nmm:albumTitle(?uid), nie:title(?uid)) AS name COUNT(?m) AS total\nWHERE {\n\t?m a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnmm:musicAlbum ?uid ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}\nGROUP BY ?uid",
				"value" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nmm:MusicPiece, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tnmm:musicAlbum <%value%> ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
		},
	},
	"video" : {
		"query" : "",
		"all" : {
			"query" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nfo:Video, nfo:Audio, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
		},
	},
	"image" : {
		"query" : "SELECT 3 AS image_photo COUNT(?uid) AS image_other\nWHERE {\n\t?uid a nfo:Image ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( NOT EXISTS { ?uid a nmm:Photo } ) .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
		"other" : {
			"query" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nfo:Image ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( NOT EXISTS { ?uid a nmm:Photo } ) .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
		},
		"photo" : {
			"query" : "SELECT COUNT(?uid) AS image_photo_all COUNT(?uid) AS image_photo_most_recent COUNT(DISTINCT nfo:fileLastModified(?res)) AS image_photo_date\nWHERE {\n\t?uid a nfo:Image ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			"all" : {
				"query" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime ?date\nWHERE {\n\t?uid a nmm:Photo, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?date .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
			"date" : {
				"query" : "SELECT ?uid ?uid AS name COUNT(?p) AS total\nWHERE {\n\t?p a nmm:Photo, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified ?uid .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}\nGROUP BY ?uid",
				"value" : "SELECT ?uid COALESCE(nie:title(?uid), nfo:fileName(?uid), ?uid, '-- unknown name --') AS name nie:url(?res) AS url nie:mimeType(?res) AS mime '%value%' AS date\nWHERE {\n\t?uid a nmm:Photo, nfo:DataContainer ;\n\t\ttracker:available true ;\n\t\tsah:owner ?owner ;\n\t\tnie:dataSource ?device ;\n\t\tnie:hasPart ?res .\n\t?res nfo:fileLastModified '%value%' .\n\tFILTER ( ! BOUND(sah:converted(?res)) ) .\n\tFILTER ( ?owner IN ( <urn:contact:%username%> , <urn:contact:public> ) && EXISTS {\n\t\t\t?deviceAlias a sah:DeviceAlias ;\n\t\t\t\ttracker:available true ;\n\t\t\t\tsah:device ?device ;\n\t\t\t\tsah:owner <urn:contact:%username%> .\n\t\t}\n\t) . \n}",
			},
		},
	},
}

